# Day03

## 도서 검색

- 기능 요구 사항
    
    다음과 같이 특정 책에 대한 도서 프로그램을 작성하려고 합니다. 검색 동작을 하는 find() 함수를 구현하세요.
    
    아래의 기간에만 해당 책을 구할 수 있다고 가정하세요.
    
    | **책이름** | **절판여부** | **분류** | **별점** | **권수** | **판매기간** |
    | --- | --- | --- | --- | --- | --- |
    | **Great** | **true** | **Novel** | **3.1** | **2** | 1970.1~1981.4 |
    | **Laws** | **true** | **Novel** | **4.8** | **3** | 1980.6~1985.7 |
    | **Dracula** | **true** | **Drama** | **2.3** | **6** | 1991.5~1996.5 |
    | **Mario** | **true** | **Drama** | **3.8** | **4** | 2001.9~2012.11 |
    | **House** | **false** | **Magazine** | **4.4** | **1** | 1987.7~현재 |
    | **Art1** | **true** | **Design** | **4.2** | **2** | 1985.6~1991.7 |
    | **Art2** | **true** | **Design** | **3.0** | **3** | 1995.2~2005.12 |
    | **Wars** | **true** | **Novel** | **4.6** | **2** | 1982.4~2003.5 |
    | **Solo** | **false** | **Poem** | **4.9** | **2** | 2007.3~현재 |
    | **Lost** | **false** | **Web** | **3.2** | **8** | 1998.6~현재 |
    | **Ocean** | **true** | **Magazine** | **4.3** | **1** | 2005.2~2020.6 |

### 프로그래밍 요구사항

- find() 요구사항
    
    파일 이름은 다음과 같이 작성하세요. → **`find.js`**
    
    ```jsx
    **function find(param0, param1)**
    ```
    
    - 첫 번째 매개변수 **`param0` 는 *문자열로 특정 시점을 전달하고*, 두 번째 매개변수 `param1`는 *정수형으로 구매할 권수*를 전달해야 합니다.**
    - **`find()` 함수 리턴값은 문자열로 리턴해야 합니다. `find()` 함수의 시그니처를 변경하지 마세요.**
    - 게임에 대한 데이터 구조에서 판매 시작 시점과 판매 종료 시점을 **`param0`**와 비교해서 판매 중인 시점의 책을 출력해야 합니다.
    - 절판되지 않은 기간 동안만 구할 수 있다고 가정합니다.
    - 절판된 책의 경우는 이름 뒤에 **`*`** 문자를 붙여서 출력합니다.
    - **`param1` 권수까지 비교해서 해당 권수 이상인 책을 출력해야 합니다.**
    - 최종 출력값은 별점(내림차순)으로 정렬해야 합니다.
    - 일치하는 책이 전혀 없을 때는 **`“!EMPTY”` 문자열을 리턴합니다.**

### 요구사항 분석

- **[문제]`param1` 에서 주어진 시점에 해당하는 모든 책들 AND 해당 책이 보유 수량이 `param2` 이상인 경우**
- **[문제]만약 조건을 만족하는 책들이 여러 개인 경우 별점의 내림차순으로 출력한다.**
- [추가]만약 조건을 만족하며, 책들이 여러 개이며, 별점 또한 동일한 경우 사전의 오름차순으로 출력한다.

### 설계 단계

1. **주어진 도서 리스트에 대한 정의 → class 형태? or 객체 배열 → C++에서 사용한 클래스 객체의 배열형식의 아이디어에서 착안함.**
2. **입력에 대한 처리 → `param1` 의 경우 문자열, param2의 경우 정수형으로 정의 및 입력 받고 `find()`호출**
3. **`param1` 에 대한 조건을 만족하는 객체 탐색 이후 `param2`에 대한 조건 검사**
4. **3의 조건을 만족하는 경우 temp 배열에 삽입**
5. **탐색 종료**
    1. **`temp.length > 1`인 경우 별점을 기준으로 내림차순 출력**
        
        **→ 만약 별점 마저 똑같은 경우 사전의 오름차순으로 출력**
        
    2. **`temp.length == 1`인 경우 출력**

### 잘못된 부분

```jsx
for (book in bookInfo) {
    ...
    tempArray.push(book); // ❌ book은 인덱스(문자열), 실제 객체가 아님
}

```

### 수정한 부분

```jsx
for (let book of bookInfo) {
    ...
    tempArray.push(book); // ✅ 실제 book 객체를 배열에 추가
}

```

### 잘못된 부분

```jsx
if ((book.startYear <= paramYear 
	&& (paramYear <= book.endYear || book.endYear === 0))
   && (book.startMonth <= paramMonth 
   && (paramMonth <= book.endMonth || book.endMonth === 0))) 
```

### 수정한 부분

```jsx
if ((((book.startYear < paramYear) 
		|| (book.startYear === paramYear && paramMonth <= book.endMonth)))
&& 
   ((paramYear < book.endYear) 
     || ((book.endYear === paramYear && paramMonth <= book.endMonth) 
		     || (book.endYear === Infinity && book.endMonth === Infinity))))
```

### 피어피드백 후기

kim-seonwoo 님의 target 생성 아이디어(년은 결국 12개월이라는 점을 이용하여 (year + month) / 12)을 보고 좀 더 넓게 생각해야겠다. 라는 생각과 제가 너무 절차적으로 직관적인 해석을 하지 않았나 라는 생각이 들었습니다.

target을 만들어 하는 방식(1년 == 12달) 정말 좋은 거 같습니다. 이 부분까진 생각하지 못했는데 너무 문제를 직관적으로 바라보는 저를 다시 돌아보게 됐습니다. 저 같은 경우는 year과 month의 단위를 나누어 비교하다보니 if 조건문 작성시 코드의 깊이가 길어진다는 것을 느꼈는데.. 정말 좋은 방법인 거 같아요!

luck-kim04님의 문서 정리가 정말 깔끔했었습니다. 본인의 문제해결 과정과 과정 속 고민, 구현 중 발생했던 상황을 꼼꼼하게 기록한 부분이 인상적이었습니다. 단순하게 코드를 설계하고 구현하고, 요구사항을 분석을 하여 작성하는 것이 아닌 여러 과정들을 빠짐없이 기록하는 부분에 대해서 배워야 된다는 생각이 들었습니다.